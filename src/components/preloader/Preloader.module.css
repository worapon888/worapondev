/* ============================================================
   1. CORE SETUP & VARIABLES
   ============================================================ */
.overlay {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100svh;
  z-index: 999999;
  pointer-events: none;
  overflow: hidden;
  background: transparent;
  --loader-cyan: rgba(120, 220, 255, 0.9);
}

.backdrop {
  position: absolute;
  inset: 0;
  background: #000;
  z-index: 0;
  transition: opacity 0.55s ease;
}

.backdropFade {
  opacity: 0;
}

/* ============================================================
   2. GRID SYSTEM (Background Layer)
   ============================================================ */
.grid {
  position: absolute;
  inset: 0;
  z-index: 1;
}

.block {
  position: absolute;
  background: #000;
  will-change:
    opacity, transform; /* ตัด filter ออกถ้าไม่ได้ใช้ animation เพื่อ performance */
}

/* ============================================================
   3. UI COMPONENTS (Loader & Text)
   ============================================================ */
.ui {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column; /* ให้ Text กับ Ring อยู่ใน flow เดียวกัน */
  align-items: center;
  justify-content: center;
  z-index: 2;
}

.ring-container {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s ease;
}

.ring,
.disc {
  position: absolute;
  border-radius: 50%;
  border: 2px solid transparent;
}

/* Rings Logic - Clean & Semantic */
.ring {
  border-left-color: var(--loader-cyan);
  border-right-color: var(--loader-cyan);
}

.ringSm {
  width: 108px;
  height: 108px;
  animation: spin 1s linear infinite;
}
.ringMd {
  width: 138px;
  height: 138px;
  animation: spinR 1.5s linear infinite;
}
.ringLg {
  width: 172px;
  height: 172px;
  animation: spin 2s linear infinite;
}

.disc {
  width: 150px;
  height: 150px;
  border-color: var(--loader-cyan);
  animation: rotate3d 3s linear infinite;
}

/* Text Indicator */
.text {
  position: absolute;
  bottom: clamp(3rem, 10vh, 6rem);
  color: rgba(231, 247, 255, 0.9);
  font-size: clamp(0.75rem, 2vw, 0.9rem);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  text-align: center;
  padding-inline: 1rem;
  animation: blink 1.2s ease-in-out infinite; /* ปรับจังหวะให้ดู smooth ขึ้น */
}

/* ============================================================
   4. ADAPTIVE & ACCESSIBILITY
   ============================================================ */

/* Mobile & Landscape Optimizations */
@media (max-width: 640px) {
  .ring-container {
    transform: scale(0.75);
  }
  .text {
    bottom: 4rem;
  }
}

@media (max-height: 500px) {
  .ring-container {
    transform: scale(0.6);
  }
  .text {
    bottom: 1.5rem;
    font-size: 0.7rem;
  }
}

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .text,
  .ring,
  .disc {
    animation: none !important;
    opacity: 0.8 !important;
    border-color: var(--loader-cyan) !important;
  }
}

/* ============================================================
   5. KEYFRAMES
   ============================================================ */
@keyframes rotate3d {
  to {
    transform: rotate3d(1, 0.25, 0.75, 360deg);
  }
}
@keyframes spin {
  to {
    transform: rotateZ(360deg);
  }
}
@keyframes spinR {
  to {
    transform: rotateZ(-360deg);
  }
}
@keyframes blink {
  0%,
  100% {
    opacity: 0.2;
  }
  50% {
    opacity: 1;
  }
}
